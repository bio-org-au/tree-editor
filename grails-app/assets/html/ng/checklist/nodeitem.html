<div>
    <span class="pull-left">
        <i ng-if="json.fetched && hasSubnodes && UI.open" class="fa fa-angle-down fabutton larger"
           ng-click="UI.open = false;"></i>
        <i ng-if="json.fetched && hasSubnodes && !UI.open" class="fa fa-angle-right fabutton larger"
           ng-click="UI.open = true;"></i>
    </span>
    <div style="margin-left: 1em;" class="controlholder">
        <span ng-if="json.fetching"><i class="fa fa-reload fa-spin"></i> </span>
        <span ng-if="!json.fetched"><small class="text-muted">{{uri}}</small></span>
        <span ng-if="json.fetched">
            <small ng-if="!json.checkedInAt" class="draft-node"><i class="fa fa-asterisk"></i></small>
            <small ng-if="json.replacedAt" class="replaced-node"><i class="fa fa-ban-circle"></i></small>
            <span class="draggable-uri droppable-uri"
                  draggable="true"
                  ondragstart="dragUriStart(event)"
                  ondragend="dragUriEnd(event)"
                  ondrop="dropUri(event)"
                  ondragover="dropUriOver(event)"
                  ondragenter="dropUriEnter(event)"
                  ondragleave="dropUriLeave(event)"
            ><span uri="{{uri}}" shortnodetext></span></span>
        </span>
        <span class="controls">
            <i title="focus here" class="fabutton fa fa-level-up" ng-click="clickUpArrow()"></i>
            <i title="bookmark this placement" ng-if="json.type=='T'" class="fabutton fa fa-bookmark" ng-click="clickAddBookmark()"></i>
            <a href="#" ng-click="clickNewWindow()">new window</a>
            <span ng-if="cl_scope.rootPermissions.uriPermissions.canEdit">
            <i title="remove" class="fabutton fa fa-remove" ng-click="clickRemove()"></i>
            <i title="revert" class="fabutton fa fa-undo" ng-if="json.fetched && !json.checkedInAt" ng-click="clickRevert()"></i>
            </span>
        </span>
    </div>

    <div droptarget/>

</div>

<div style="margin-left: 2em;" ng-if="json.fetched && hasSubnodes && UI.open" uri="{{uri}}" nodelist></div>