<div
        class="droppable-uri"
        ondrop="dropUri(event)"
        ondragover="dropUriOver(event)"
        ondragenter="dropUriEnter(event)"
        ondragleave="dropUriLeave(event)"
>
    <span class="pull-right"><span class="small"><a href="../search?root={{root._uri}}&focus={{focus._uri}}">Search <span uri="{{root.arrangement._uri}}" shortarrangementtext></span><i class="fa fa-search"></i></a></span></span>
    <h4>Checklist</h4>
    <div ng-repeat="uri in path" ng-if="!$last" class="controlholder">
        <span class="nodeitem-handle">
                <i class="fabutton fa fa-level-down" ng-click="clickPath($index)"></i>
        </span>
        <span class="nodeitem-content" uri="{{uri}}" shortnodetext></span>
        <span class="controls">
            <i title="bookmark this placement" ng-if="!$first" class="fabutton fa fa-bookmark"
               ng-click="clickPathAddBookmark($index)"></i>
            <a href="#" ng-click="clickPathNewWindow($index)">new window</a>
        </span>
    </div>
    <h2
            div class="controlholder"
    >
        <small ng-if="!focus.checkedInAt" class="draft-node"><i class="fa fa-asterisk"></i></small>
        <small ng-if="focus.replacedAt" class="replaced-node"><i class="fa fa-ban-circle"></i></small>
        <span class="draggable-uri"
              draggable="true"
              ondragstart="dragUriStart(event)"
              ondragend="dragUriEnd(event)"
        >
        <span uri="{{focus._uri}}" shortnodetext></span> <small uri="{{root.arrangement._uri}}"
                                                                shortarrangementtext></small>
        </span>
        <span class="controls" >
            <a href="{{focus._uri}}"><i class="fa fa-link"></i></a>
            <a ng-if="focus.name._uri" ng-click="clickToggleApniFormat()" href="#">APNI</a>
            <a ng-if="focus.name._uri" target="apni-name" href="{{focus.name._uri}}/api/apni-format"><i class="fa fa-external-link"></i></a>
            <i title="synonyms" class="fabutton" ng-click="clickShowSynonyms()">=</i>
            <i title="bookmark this placement" class="fabutton fa fa-bookmark" ng-click="clickAddBookmark()"></i>
            <span ng-if="cl_scope.rootPermissions.uriPermissions.canEdit && cl_scope.rootPermissions.uriPermissions.isWorkspace && focus.type=='T'">
                <span style="display: inline-block;">
                    <i class="fabutton fa fa-edit" ng-click="toggleNodeTypeDropdown()"></i>
                    <ul ng-if="nodeTypeDropdown"
                        ng-mouseleave="closeNodeTypeDropdown()"
                        style="position: absolute; z-index:1000; width:100%; top:.95em;
                    background: white;
                    padding: 5px 0;
        margin: 2px 0 0;
        list-style: none;
        border: 1px solid rgba(0,0,0,.15);
        border-radius: 4px;
        -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
        box-shadow: 0 6px 12px rgba(0,0,0,.175);
                    "
                    >
                        <li><a href="#" ng-click="clickNodeType('apc-voc', 'ApcConcept')"><i class="fa fabutton" ng-class="json.typeUri.idPart == 'ApcConcept' ? 'fa-check-circle-o' : 'fa-circle-o'"></i> <span>Accepted</span></a></li>
                        <li><a href="#" ng-click="clickNodeType('apc-voc', 'ApcExcluded')"><i class="fa fabutton" ng-class="json.typeUri.idPart == 'ApcExcluded' ? 'fa-check-circle-o' : 'fa-circle-o'"></i> <span class="apc-excluded">Excluded</span></a></li>
                        <li><a href="#" ng-click="clickNodeType('apc-voc', 'DeclaredBt')"><i class="fa fabutton" ng-class="json.typeUri.idPart == 'DeclaredBt' ? 'fa-check-circle-o' : 'fa-circle-o'"></i> <span class="declared-bt">Untreated name</span></a></li>
                      </ul>

                </span>
            <i title="revert" class="fabutton fa fa-undo" ng-if="focus.fetched && !focus.checkedInAt" ng-click="clickRevert()"></i>
            <i title="check in" class="fabutton fa fa-sign-in" ng-if="focus.fetched && !focus.checkedInAt && focus.prev" ng-click="clickCheckin()"></i>
            </span>
        </span>
    </h2>

    <div droptarget/>

</div>
<div>
    <small>
        <ul>
            <li ng-if="rootPermissions.userPermissions.canCreateWorkspaces"><a
                    href="newWorkspaceFromChecklist?focusUri={{focusUri}}">Create a new workspace using this
                checklist</a></li>
        </ul>
    </small>
</div>
<div apni-format-block ng-if="UI.showApniFormat" class="focus-name-apni-format" uri="{{focus.name._uri}}" style="margin-left: 1.5em;">
</div>
<div node-synonym-list ng-if="UI.showSynonyms" uri="{{focus.instance._uri}}" style="margin-left: 1.5em;"></div>
<div>
    <div nodelist uri="{{focusUri}}"></div>
</div>

