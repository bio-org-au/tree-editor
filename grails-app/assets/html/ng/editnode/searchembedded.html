<div>
    <div class="pull-right"><a href="checklist?root={{rootUri}}&focus={{focusUri}}">Back</a></div>
    <h4>Search/Add names</h4>
    <h1><span uri="{{focusUri}}" shortnodetext></span> <small><span uri="{{root.arrangement._uri}}" shortarrangementtext></span></small>
    </h1>
</div>

<ul class="nav nav-tabs">
    <li role="presentation" ng-click="clickSearchTab()" ng-class="tab == 'searchTab' ? 'active' : ''"><a
            href="#">Search</a></li>
    <li role="presentation" ng-click="clickResultsTab();"
        ng-class="(tab == 'resultsTab' ? 'active' : '') + (hasResults ? '' : ' disabled')"><a href="#">Search Results</a></li>
    <li role="presentation" ng-click="clickSelectedNamesTab();"
        ng-class="(tab == 'selectedNamesTab' ? 'active' : '') + (hasSelectedNames ? '' : ' disabled')"><a href="#">Selected
        Names</a></li>
</ul>

<div class="container" id="search-container" ng-class="tab == 'searchTab' ? '' : 'hidden'"></div>

<div ng-class="tab == 'resultsTab' ? '' : 'hidden'">
    <div ng-if="searching"><i class="fa fa-refresh fa-spin"></i> Searching &hellip;</div>
    <div ng-if="!searchResults && !searching">No names found.</div>
    <div ng-if="searchResults">
        <table class="table">
            <tr>
                <th>Select</th>
                <td ng-if="!searching && searchResults.length>0">
                    <a href="#" ng-click="clickSelectAll()">Select All</a>
                    |
                    <a href="#" ng-click="clickDeselectAll()">Deselect All</a>
                    |
                    <a href="#" ng-click="clickClearResults()">Clear search results</a>
                    <span ng-class="hasSelectedNames ? '' : ' hidden'">
                    |
                    <a href="#" ng-click="clickSelectedNamesTab();">Review names to add to <span uri="{{focusUri}}" shortnodetext></span></a>
                    </span>
                </td>
            </tr>
            <tr ng-repeat="uri in searchResults" uri="{{uri}}" searchresultrow>
            </tr>
            <tr>
                <td></td>
                <td ng-if="!searching && searchResults.length>0">
                    <a href="#" ng-click="clickSelectAll()">Select All</a>
                    |
                    <a href="#" ng-click="clickDeselectAll()">Deselect All</a>
                    |
                    <a href="#" ng-click="clickClearResults()">Clear search results</a>
                    <span ng-class="hasSelectedNames ? '' : ' hidden'">
                    |
                    <a href="#" ng-click="clickSelectedNamesTab();">Review names to add to <span uri="{{focusUri}}" shortnodetext></span></a>
                    </span>
                </td>
            </tr>
        </table>
    </div>
</div>

<div ng-class="tab == 'selectedNamesTab' ? '' : 'hidden'">
    <div ng-if="!hasSelectedNames">No names selected.</div>
    <div ng-if="hasSelectedNames">
        <table class="table">
            <tr>
                <th>Select</th>
                <td>
                <a href="#" ng-click="clickSelectAllSelected()">Select All</a>
                |
                <a href="#" ng-click="clickDeselectAllSelected()">Deselect All</a>
                |
                <a href="#" ng-click="clickClearUnselected()">Remove unselected</a>
                </td>

            </tr>
            <tr ng-repeat="nugget in selected" uri="{{nugget.uri}}" searchresultrow>
            </tr>
            <tr>
                <td></td>
                <td>
                    <a href="#" ng-click="clickSelectAllSelected()">Select All</a>
                    |
                    <a href="#" ng-click="clickDeselectAllSelected()">Deselect All</a>
                    |
                    <a href="#" ng-click="clickClearUnselected()">Remove unselected</a>
                </td>
            </tr>
        </table>

        Add these names to <span uri="{{focusUri}}" shortnodetext></span> <small><span uri="{{root.arrangement._uri}}" shortarrangementtext></span></small> <a href="#" ng-click="clickAddNames()" class="btn btn-primary">Add</span></a>
    </div>
</div>

